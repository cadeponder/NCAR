<!-- ADD RESTART FUNCTIONALITY -->
<!-- ADD FULLSCREEN FUNCTIONALITY W/ ESC FOR EXITING FULLSCREEN -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embodied Ice Age Intro</title>
    <link rel="stylesheet" href="style.css">
    <!-- FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@600&visibility=swap" rel="stylesheet">
<!-- JS LIBRARY -->
<link rel="stylesheet" href="https://unpkg.com/carbon-components@latest/css/carbon-components.css" />
</head>
<body class="box--body p20" onload="toggleVideo(!isVideo)" background="gifs/snow.gif">
    <div class="grid-container">
      <div id="feedback"><p id="helper-text"></p></div>

      <div id="header"><h1 id="headerTxt">Ready to Embody an Ice Age?</h1>
        <!-- get rid of button when movement based 'yes' made -->
        <button>NEXT</button></div>
        
      <div id="edMedia"><img id="img" src="img/lgm.jpg" alt=""></div>  
      <div id="edText"><p>The Last Glacial Maximum was the most recent time during the Last Glacial Period that ice sheets were at their greatest extent. Ice sheets covered much of Northern North America, Northern Europe, and Asia and profoundly affected Earth's climate.</p></div>

      <div id="interaction">
        <div class="main">
          <div class="mb10">
            <div id="updatenote" class="updatenote mt10"></div>
          </div>
          <video class="videobox canvasbox" autoplay="autoplay" id="myvideo"></video>
      
          <canvas id="canvas" class="border canvasbox"></canvas>
        </div>
      </div>

      <div id="progress">
        <div id="eccProg"><img src="img/concept.png" alt=""></div>
        <div id="precProg"><img src="img/concept.png" alt=""></div>
        <div id="obProg"><img src="img/concept.png" alt=""></div>
      </div>
    </div> 
    <!-- Interaction -->
    <script src="carbon-components.js"></script>
  <script src="handtrack.js"></script>
  <!-- 8.8 sec -->
  <script src="script.js"></script>
    <script>
        const header = document.getElementById('headerTxt');
        const edText = document.getElementById('edText');
        const edMedia = document.getElementById('edMedia')
        const img = document.getElementById('img'); 
        const feedback = document.getElementById('feedback'); 
        const progress = document.getElementById("progress");
        const precProg = document.getElementById("precProg");
        const obProg = document.getElementById("obProg");
        const interaction = document.getElementById('interaction');
        // const progressBar = document.getElementById('progress'); 
        const btn = document.querySelector("button");
        const pageGrid = document.getElementsByClassName('grid-container-home');
        btn.addEventListener("click", changePage);
        img.style.width = "100%";
        feedback.style.visibility = 'hidden';
        progress.style.visibility = 'hidden';
        edMedia.style.background = 'none';
        if (header.
            textContent = "Ready to Embody an Ice Age?") {
              edText.textContent = "The Last Glacial Maximum was the most recent time during the Last Glacial Period that ice sheets were at their greatest extent. Ice sheets covered much of Northern North America, Northern Europe, and Asia and profoundly affected Earth's climate.";
              img.src = 'img/lgm.jpg';
              img.style.width = '100%';
            }
           

        function changePage(){
            if (header.
            textContent == "Ready to Embody an Ice Age?"){
              resetConditionsPageChange();
              setCycle('e');
              header.textContent = 'Eccentricity';
              edText.textContent = "Eccentricity determines how close to a circle the Earth's orbit is. It causes the distance between the Earth and the Sun to change throughout the year. This change in distance does not control the seasons, but assists in altering Earth's temperature during ice ages. During the last ice age, the Earth had a high eccentricity, causing it to be far from the Sun during part of its orbit.";
              img.src = 'gifs/eccentricity.gif';
              edMedia.style.visibility = 'visible';
              feedback.style.visibility = 'visible';
              img.style.width = "80%";
              edMedia.style.background = 'black';
              resetConditionsPageChange();
            }
           else if (header.
            textContent == 'Eccentricity'){
              resetConditionsPageChange();
              setCycle('p');
              header.textContent = 'Precession';
              edText.textContent = "Precession is when the axis of the Earth changes its direction like how a top wobbles when it spins. Procession changes the point in the Earth's orbit at which each season (Fall, Winter, Spring, Summer) occurs. During the last ice age, the procession of the Earth made it so the northern summer was when the Earth was furthest from the Sun.";
              img.src = 'gifs/precession.gif';
              progress.style.visibility = 'visible';
              precProg.style.visibility = 'hidden';
              obProg.style.visibility = 'hidden';
              resetConditionsPageChange();
            }
            else if (header.
            textContent == 'Precession'){
              resetConditionsPageChange();
              setCycle('o');
              header.textContent = 'Obliquity';
              edText.textContent = "Obliquity is the tilt of the Earth's axis. Low obliquity means a shallow tilt, making the axis more vertical. When obliquity is low, less sunlight from space reaches land of the northern hemisphere. During the last ice age, the Earth had low obliquity.";
              img.src = 'gifs/obliquity.gif';
              precProg.style.visibility = 'visible';
            }
            else if (header.
            textContent == 'Obliquity'){
              header.textContent = "You did it!";
              img.src = 'gifs/obliquity.gif';
              obProg.style.visibility = 'visible';
              interaction.style.visibility = 'hidden';
              feedback.style.visibility = 'hidden';
              edMedia.style.marginLeft = '50%';
              edMedia.style.marginRight = '50%';
              allowRestart();
            }
           
        }
    </script>
</body>
</html>